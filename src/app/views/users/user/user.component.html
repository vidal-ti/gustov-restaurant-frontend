<p-dialog 
    [header]="entity.Id > 0? 'Editar Usuario' : 'Agregar Usuario'" 
    [modal]="true"
    [(visible)]="visible" 
    [style]="{ width: '30rem' }">
    <form #userForm="ngForm" role="form">
        <div class="formgrid grid">
            <div class="col-12 field">
                <label for="nameUser">Nombre *</label>
                <input name="nameUser" autofocus [(ngModel)]="entity.Name" required #name="ngModel" type="text" class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full">
                <div *ngIf="name.invalid && (name.dirty || name.touched)">
                    <p-tag severity="danger" value="El nombre es obligatorio"/>
                </div>
            </div>
            <div class="col-12 field">
                <label for="userName">Nombre de Usuario *</label>
                <input name="userName" [(ngModel)]="entity.UserName" required #userName="ngModel" type="text" class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full">
                <div *ngIf="userName.invalid && (userName.dirty || userName.touched)">
                    <p-tag severity="danger" value="El usuario es obligatorio"/>
                </div>
            </div>
            <div class="col-12 field">
                <label for="password">Contrase침a *</label> <br>
                <p-password name="password" [toggleMask]="true" [(ngModel)]="entity.Password" required #password="ngModel" class="p-inputtext-sm"/>
                <div *ngIf="password.invalid && (password.dirty || password.touched)">
                    <p-tag severity="danger" value="Se requiere contrase침a"/>
                </div>
            </div>
            <div class="col-12 field">
                <label for="role">Rol *</label> <br>
                <p-dropdown 
                name="role"
                required #role="ngModel" 
                [options]="cities" 
                [(ngModel)]="entity.Role" 
                optionLabel="name" 
                optionValue="value"
                placeholder="Seleccione un Rol" />
                <div *ngIf="role.invalid && (role.dirty || role.touched)">
                    <p-tag severity="danger" value="Se requiere rol"/>
                </div>
            </div>
            <div class="col-12 field">
                <p-checkbox 
                    name="isActive"
                    [(ngModel)]="entity.IsActive" 
                    label="Activo"
                    [binary]="true" 
                    inputId="binary" />
            </div>
            <div class="col-12 field">
                <label for="created">Fecha de Creaci칩n *</label><br>
                <p-calendar name="created"  required #created="ngModel"
                [(ngModel)]="entity.Created"/>
                <div *ngIf="created.invalid && (created.dirty || created.touched)">
                    <p-tag severity="danger" value="Se requiere fecha de creaci칩n"/>
                </div>
            </div>
        </div>
    </form>

    <ng-template pTemplate="footer">
        <button 
            pButton 
            pRipple 
            icon="pi pi-times" 
            label="Cancelar"
            class="p-button-sm p-button-danger"
            (click)="visible = false">
        </button>
        <button 
            pButton 
            pRipple 
            icon="pi pi-save" 
            label="Guardar"
            [disabled]="isBtnSave"
            class="p-button-sm"
            (click)="btnSave()">
        </button>
    </ng-template>
</p-dialog>
